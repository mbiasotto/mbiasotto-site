function initializeFormMasks(){document.querySelectorAll('input[name="telefone"]').forEach((e=>{applyPhoneMask(e)}))}function phoneMask(e){return e?(e=e.replace(/\D/g,"")).length<=2?`(${e}`:e.length<=7?`(${e.slice(0,2)}) ${e.slice(2)}`:e.length<=11?`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7)}`:`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7,11)}`:""}function applyPhoneMask(e){e.addEventListener("input",(function(e){e.target.value=phoneMask(e.target.value)})),e.addEventListener("keypress",(function(e){const t=String.fromCharCode(e.which);/[\d\(\)\s\-]/.test(t)||8===e.which||0===e.which||e.preventDefault()}))}function initializeFormValidations(){document.querySelectorAll('input[name="nome"]').forEach((e=>{e.addEventListener("blur",(function(){validateNome(this)})),e.addEventListener("input",(function(){clearFieldError(this)}))}));document.querySelectorAll('input[name="email"]').forEach((e=>{e.addEventListener("blur",(function(){validateEmail(this)})),e.addEventListener("input",(function(){clearFieldError(this)}))}));document.querySelectorAll('input[name="telefone"]').forEach((e=>{e.addEventListener("blur",(function(){validateTelefone(this)})),e.addEventListener("input",(function(){clearFieldError(this)}))}));document.querySelectorAll('textarea[name="mensagem"]').forEach((e=>{e.addEventListener("blur",(function(){validateMensagem(this)})),e.addEventListener("input",(function(){clearFieldError(this),updateCharacterCount(this)}))}));document.querySelectorAll('select[name="tipo_projeto"]').forEach((e=>{e.addEventListener("change",(function(){validateTipoProjeto(this)}))}))}function validateNome(e){const t=e.value.trim();return t?t.length<2?(showFieldError(e,"Nome deve ter pelo menos 2 caracteres"),!1):/^[a-zA-ZÀ-ÿ\s]+$/.test(t)?(clearFieldError(e),!0):(showFieldError(e,"Nome deve conter apenas letras"),!1):(showFieldError(e,"Nome é obrigatório"),!1)}function validateEmail(e){const t=e.value.trim();if(!t)return showFieldError(e,"E-mail é obrigatório"),!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?(clearFieldError(e),!0):(showFieldError(e,"Digite um e-mail válido"),!1)}function validateTelefone(e){const t=e.value.trim();if(t&&t.length>0){if(!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(t))return showFieldError(e,"Digite um telefone válido: (15) 99999-9999"),!1}return clearFieldError(e),!0}function validateTipoProjeto(e){return e.value?(clearFieldError(e),!0):(showFieldError(e,"Selecione o tipo de projeto"),!1)}function validateMensagem(e){const t=e.value.trim();return t?t.length<10?(showFieldError(e,"Descrição deve ter pelo menos 10 caracteres"),!1):t.length>1e3?(showFieldError(e,"Descrição deve ter no máximo 1000 caracteres"),!1):(clearFieldError(e),!0):(showFieldError(e,"Descrição do projeto é obrigatória"),!1)}function showFieldError(e,t){clearFieldError(e),e.classList.add("is-invalid");const r=document.createElement("div");r.className="invalid-feedback",r.textContent=t,e.parentNode.appendChild(r)}function clearFieldError(e){e.classList.remove("is-invalid");const t=e.parentNode.querySelector(".invalid-feedback");t&&t.remove()}function updateCharacterCount(e){const t=e.value.length;let r=e.parentNode.querySelector(".char-counter");r||(r=document.createElement("small"),r.className="char-counter text-muted",e.parentNode.appendChild(r)),r.textContent=`${t}/1000 caracteres`,t>1e3?(r.classList.add("text-danger"),r.classList.remove("text-muted")):(r.classList.add("text-muted"),r.classList.remove("text-danger"))}function validateCompleteForm(e){const t=e.querySelector('input[name="nome"]'),r=e.querySelector('input[name="email"]'),i=e.querySelector('input[name="telefone"]'),n=e.querySelector('select[name="tipo_projeto"]'),o=e.querySelector('textarea[name="mensagem"]');let a=!0;return t&&!validateNome(t)&&(a=!1),r&&!validateEmail(r)&&(a=!1),i&&!validateTelefone(i)&&(a=!1),n&&!validateTipoProjeto(n)&&(a=!1),o&&!validateMensagem(o)&&(a=!1),a}function addFormSubmitFeedback(e){const t=e.querySelector('button[type="submit"], button[onclick*="submit"]');t&&t.addEventListener("click",(function(t){setTimeout((()=>{if(!validateCompleteForm(e)){const t=e.querySelector(".is-invalid");t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus())}}),100)}))}document.addEventListener("DOMContentLoaded",(function(){initializeFormMasks(),initializeFormValidations()})),document.addEventListener("DOMContentLoaded",(function(){initializeFormMasks(),initializeFormValidations();document.querySelectorAll("form").forEach((e=>{addFormSubmitFeedback(e)}))}));